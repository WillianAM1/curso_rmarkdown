# Sintaxe

## Prêambulo

No início de um documento R Markdown, é utilizada a linguagem [yaml](https://pt.wikipedia.org/wiki/YAML) para definir as configurações do seu arquivo.
As configurações disponíveis no preâmbulo do documento R Markdown são variadas, podendo inclusive ter diferentes opções para diferentes tipos de arquivos.
Uma das configurações mais importantes para se definir no seu preâmbulo é o [tipo de documento](#possíveis-tipos-de-outputs) a ser gerado.

### Definindo tipo de output

A opçao de [tipo de documento](#possíveis-tipos-de-outputs) é definida da seguinte forma:

```
---
output: pdf_document
---
```

No código acima, `output` foi definido como `pdf_document`. Output é o formato final do seu documento, e `pdf_document` é, dentro do pacote `rmarkdown`, o formato pdf. Para gerar arquivos de formatos diferentes, é necessário somente que seja modificado a opção de `output` no preâmbulo.

Note que a opção definida no preâmbulo foi escrita entre duas linhas tracejadas. Não é possível definir suas configurações fora dessas linhas tracejadas, da mesma forma, não é possível escrever partes do seu documento ou rodar códigos de `R` dentro das linhas.

Por padrão no `yaml`, utilizado no preâmbulo de R Markdown, a opção a ser definida é escrita sem espaços, seguida de dois pontos, espaço e então a definição da opção.

Existem ainda opções dentro de outras, como por exemplo `pdf_document`, em que é possível definir configurações se o documento terá ou não sumário, quantos níveis de [cabeçalho](#cabeçalhos) serão utilizados no sumário, etc.

```
---
output: pdf_document:
  toc: true
  toc_depth: 3
  latex_engine: xelatex
---
```

No exemplo acima, foi definido `toc` (table of contents) como `true`, o que vai fazer com que seja gerado um sumário no documento final, Vale ressaltar que em `yaml` o valor lógico de verdadeiro é escrito com todas as letras minúsculas. A opção `toc_depth: 3`, dedfine que ao gerar o sumário, até três níveis de [cabeçalho](#cabeçalhos) aparecerão no sumário.

### Informações Gerais

Além do tipo de documento e das opções de cada tipo de documento, pode-se definir algumas opções gerais, como autor, título do documento, e data.

```
---
author: "Fulano"
output: pdf_document:
  toc: true
  toc_depth: 3
  latex_engine: xelatex
---
```

Seguindo com o preâmbulo já feito anteriormente, foi adicionada a opção `author`, que irá definir o autor do documento. Por padrão, o autor irá aparecer na página inicial de diversos [tipos de documento](#possíveis-tipos-de-outputs).

```
---
date: 1 de janeiro de 1970
output: pdf_document:
  toc: true
  toc_depth: 3
  latex_engine: xelatex
author: Fulano
---
```

Utilizando a opção `date` pode-se definir uma data para o documento. Do mesmo modo que o autor, a data aparece por padrão no início dos documentos.
Vale ressaltar que, no exemplo acima, a escrita do nome do autor e data sem aspas não interfere no funcionamento do programa. Do mesmo modo, a troca da ordem dos elementos também não interfere, pois as opções do preâmbulo não necessitam de uma orgem específica. Contudo, as opções dentro de outras devem sempre estar abaixo da "opção mae" com uma identação a mais.

```
---
author: Fulano
date: 1 de janeiro de 1970
title: Título
output: pdf_document:
  toc: true
  toc_depth: 3
  latex_engine: xelatex
---
```

Por fim definiu-se também a opção `title` que indica o título do documento final. Mais customizações no documento são abordadas no [capítulo 4](#depois-crio).

## Textos


### Títulos

```
# Título Nível 1

## Título Nível 2

### Título Nível 3

#### Título Nível 4

##### Título Nível 5

###### Título Nível 6
```


### Formatação de textos (negrito, itálico, sobrescrito, tachado e código)

```
*Negrito* _Negrito_
```

**Negrito** __Negrito__

```
**Italico** __italico__
```

*Italico* _Italico_

```
texto^sobrescrito^
```

texto^sobrescrito^

```
~~~tachado~~

````
~~~tachado~~

### Links

Para um link devemos utilizar a seguinte sintaxe:
```
[nome do link](url do link)
[Curso de RMarkdown](https://estatsej.github.io/curso_rmarkdown)
```
Existem também outras variações para que utlizemos os links em nosso material.

__1 - Nome do link seja ele próprio__:

https://estatsej.github.io/curso_rmarkdown

__2- Link contendo um título, que aparece ao deixar o cursor do mouse em cima do link:__

```
[Curso de RMakrdown](https://estatsej.github.io/curso_rmarkdown "Aqui está o nosso curso de RMarkdown")
```
Podemos observar:
[Curso de RMakrdown](https://estatsej.github.io/curso_rmarkdown "Aqui está o nosso curso de RMarkdown")


### Listas

__Lista Ordenada__

```
1. Primeiro item
2. Segundo item
3. Terceiro item
```

__Lista Não-Ordenada__
```
- Primeiro item
- Segundo item
- Terceiro item
```

__Lista com Sublista__
```
1. Item
    - Um sub-item
    - Outro sub-item
```

## Inserindo Imagens

Antes de inserir a imagem escolhida podemos definir a configuração global para todas as imagens, lembrando que a configuração feita diretamente na imagem vai sobrepor a configuração global.

````markdown
`r ''````{r setup include=FALSE}
library(knitr)
opts_chunk$set(echo = FALSE,
               out.width = "10%", 
               fig.align = "center")
```
````

Se um gráfico ou imagem não for gerado a partir de um código feito por R, você poderá incluí-lo de duas maneiras:

- Usando a sintaxe Markdown ```![texto](pasta/para/image)```. Nesse caso, você pode definir o tamanho da imagem usando os atributos ```width``` ou ```height```, por exemplo:

```
![Logo da Estats](img/logoestats.jpeg){width=50%}
```

- Usando a função ```knitr::include_graphics(```) em qualquer parte do código. Você pode usar opções de configuração de tamanho como ```out.width``` ou ```out.height``` para esse exemplo:

````markdown
`r ''````{r, echo=FALSE, out.width="50%", fig.cap="Logo da Estats"}
knitr::include_graphics("img/logoestats.jpeg")
```
````
Se você souber que deseja gerar a imagem apenas para um formato de saída específico, poderá usar uma unidade específica. Por exemplo, você pode usar ```out.width="300px"``` se o formato de saída for HTML, mas no nosso exemplo o formato que usamos ```out.width="50%"``` é válido para qualquer saída.

E podemos aliar as imagens utilizando ```fig.align```. Por exemplo, você pode centralizar imagens ```fig.align="center"``` ou alinhar à direita as imagens ```fig.align="right'"```. Está opção funciona para saída HTML e LaTeX, mas pode não funcionar para outros formatos de saída (como o Word).

No código a seguir é utilizado quando o seu projeto tem múltiplas saídas (PDF,HTML,...) e ocorra problema na inclusão das imagens, então a sugestão para o melhor caminho foi fazer a validação para obter a saída utilizada, sabendo disso podemos fazer configuração e inserindo imagens especifica para cada saída.

````markdown
`r ''````{r, fig.cap="Logo da Estats"}
if (knitr::is_html_output()) {
    knitr::include_graphics("img/logoestats.jpeg")
} else {
    knitr::include_graphics("img/logoestats.jpeg")
}
```
````
```{r, fig.cap="Logo da Estats", fig.align = "center"}
if (knitr::is_html_output()) {
    knitr::include_graphics("img/logoestats.jpeg")
} else {
    knitr::include_graphics("img/logoestats.jpeg")
}
```

Os dois exemplos abaixo são casos de curiosidades:

- Nesse caso podemos utilizar vetor para colocar várias imagem juntas.

````markdown
`r ''````{r image}
include_graphics(c("img1.jpeg", "img2.jpeg"))
```
````

- E nesse último caso podemos fazer repetição de uma imagem várias vezes.

````markdown
`r ''````{r}
knitr::include_graphics(rep("img/logoestats.jpeg", 3))
```
````

```{r}
knitr::include_graphics(rep("img/logoestats.jpeg", 3))
```

## Exemplos

[Exemplo Sumário e Cabeçalhos](exemplos/102-sumario_e_cabecalho.html)

[Exemplo formatação de textos](exemplos/103-formatacao_de_texto.html)
